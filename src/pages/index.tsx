import Input from '@/components/ui/Input/Input';
import useStores from '@/hooks/useStores';
import { runInAction } from 'mobx';
import { observer } from 'mobx-react-lite';
import Head from 'next/head';
import React from 'react';

/** Домашняя страница */
const Home = () => {
  /** Используем хук для обращения к полям сущности */
  const { userStore } = useStores();
  return (
    <div>
      <Head>
        <title>Create Next App</title>
        <meta
          content="Generated by create next app"
          name="description"
        />
        <meta
          content="width=device-width, initial-scale=1"
          name="viewport"
        />
        <link
          href="/favicon.ico"
          rel="icon"
        />
      </Head>
      <div className="px-6 py-10 grid grid-cols-2 gap-2">
        <div>
          <Input
            label="Имя"
            onChange={(value) => {
            /** Mobx обертка для изменения полей (не обязательна при наличии makeAutoObservable)
             * не лучшая практика, лучше использовать MVC
             * либо MVVM паттерн (архитектурный паттерн) проектирования
             * и делать прослойку с моделью сущности
             * чтобы менять поля сущности через гетеры и сетеры
             */
              runInAction(() => {
                userStore.name = value;
              });
            }}
            value={userStore.name}
          />
          <Input
            label="Фамилия"
            onChange={(value) => {
              runInAction(() => {
                userStore.surname = value;
              });
            }}
            value={userStore.surname}
          />
        </div>
      </div>
    </div>
  );
};

export default observer(Home);
